var se=Object.defineProperty;var le=(e,t,n)=>t in e?se(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var U=(e,t,n)=>(le(e,typeof t!="symbol"?t+"":t,n),n);import{r as i,c as R,_ as de,R as L,a as fe,u as ue,b as A,l as me,j as C,m as ge,d as ve}from"./index-95c6505c.js";import{K as pe,C as Ce,o as he}from"./KeyCode-6e19a64a.js";import{r as ye}from"./render-0d63717b.js";import{A as G,_,a as k,C as be,b as H,c as T,d as xe,K as M,g as $e,m as Ne,r as Ee,e as J,f as Se,h as Z}from"./AntdIcon-eaef8ba2.js";function Oe(e){var t=document.createElement("iframe");t.style.display="none",document.body.append(t),t.contentDocument.write(`
    <!DOCTYPE html>
    <html lang="en">
    <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Document</title>
    </head>
    <body>
      ${e.details.map(n=>`${n.food.name} - ${n.amount} - ${n.food.price}`)}
    </body>
    </html>
  `),t.contentWindow.print()}var we={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};const Ie=we;var je=function(t,n){return i.createElement(G,_({},t,{ref:n,icon:Ie}))};const Pe=i.forwardRef(je);var Re={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"};const _e=Re;var Fe=function(t,n){return i.createElement(G,_({},t,{ref:n,icon:_e}))};const Me=i.forwardRef(Fe);var Le={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"};const ke=Le;var Ae=function(t,n){return i.createElement(G,_({},t,{ref:n,icon:ke}))};const Te=i.forwardRef(Ae);var ze={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"};const He=ze;var De=function(t,n){return i.createElement(G,_({},t,{ref:n,icon:He}))};const Be=i.forwardRef(De);var ee=i.forwardRef(function(e,t){var n=e.prefixCls,o=e.style,r=e.className,m=e.duration,u=m===void 0?4.5:m,d=e.eventKey,a=e.content,c=e.closable,v=e.closeIcon,g=v===void 0?"x":v,p=e.props,N=e.onClick,h=e.onNoticeClose,E=e.times,S=i.useState(!1),w=k(S,2),b=w[0],O=w[1],x=function(){h(d)},I=function(f){(f.key==="Enter"||f.code==="Enter"||f.keyCode===pe.ENTER)&&x()};i.useEffect(function(){if(!b&&u>0){var s=setTimeout(function(){x()},u*1e3);return function(){clearTimeout(s)}}},[u,b,E]);var l="".concat(n,"-notice");return i.createElement("div",_({},p,{ref:t,className:R(l,r,de({},"".concat(l,"-closable"),c)),style:o,onMouseEnter:function(){O(!0)},onMouseLeave:function(){O(!1)},onClick:N}),i.createElement("div",{className:"".concat(l,"-content")},a),c&&i.createElement("a",{tabIndex:0,className:"".concat(l,"-close"),onKeyDown:I,onClick:function(f){f.preventDefault(),f.stopPropagation(),x()}},g))}),te=L.createContext({}),Ge=function(t){var n=t.children,o=t.classNames;return L.createElement(te.Provider,{value:{classNames:o}},n)},Ke=function(t){var n=t.configList,o=t.placement,r=t.prefixCls,m=t.className,u=t.style,d=t.motion,a=t.onAllNoticeRemoved,c=t.onNoticeClose,v=i.useContext(te),g=v.classNames,p=n.map(function(h){return{config:h,key:h.key}}),N=typeof d=="function"?d(o):d;return L.createElement(be,_({key:o,className:R(r,"".concat(r,"-").concat(o),g==null?void 0:g.list,m),style:u,keys:p,motionAppear:!0},N,{onAllRemoved:function(){a(o)}}),function(h,E){var S=h.config,w=h.className,b=h.style,O=S,x=O.key,I=O.times,l=S,s=l.className,f=l.style;return L.createElement(ee,_({},S,{ref:E,prefixCls:r,className:R(w,s,g==null?void 0:g.notice),style:H(H({},b),f),times:I,key:x,eventKey:x,onNoticeClose:c}))})},Ve=i.forwardRef(function(e,t){var n=e.prefixCls,o=n===void 0?"rc-notification":n,r=e.container,m=e.motion,u=e.maxCount,d=e.className,a=e.style,c=e.onAllRemoved,v=e.renderNotifications,g=i.useState([]),p=k(g,2),N=p[0],h=p[1],E=function(f){var $,y=N.find(function(P){return P.key===f});y==null||($=y.onClose)===null||$===void 0||$.call(y),h(function(P){return P.filter(function(F){return F.key!==f})})};i.useImperativeHandle(t,function(){return{open:function(f){h(function($){var y=T($),P=y.findIndex(function(ce){return ce.key===f.key}),F=H({},f);if(P>=0){var K;F.times=(((K=$[P])===null||K===void 0?void 0:K.times)||0)+1,y[P]=F}else F.times=0,y.push(F);return u>0&&y.length>u&&(y=y.slice(-u)),y})},close:function(f){E(f)},destroy:function(){h([])}}});var S=i.useState({}),w=k(S,2),b=w[0],O=w[1];i.useEffect(function(){var s={};N.forEach(function(f){var $=f.placement,y=$===void 0?"topRight":$;y&&(s[y]=s[y]||[],s[y].push(f))}),Object.keys(b).forEach(function(f){s[f]=s[f]||[]}),O(s)},[N]);var x=function(f){O(function($){var y=H({},$),P=y[f]||[];return P.length||delete y[f],y})},I=i.useRef(!1);if(i.useEffect(function(){Object.keys(b).length>0?I.current=!0:I.current&&(c==null||c(),I.current=!1)},[b]),!r)return null;var l=Object.keys(b);return fe.createPortal(i.createElement(i.Fragment,null,l.map(function(s){var f=b[s],$=i.createElement(Ke,{key:s,configList:f,placement:s,prefixCls:o,className:d==null?void 0:d(s),style:a==null?void 0:a(s),motion:m,onNoticeClose:E,onAllNoticeRemoved:x});return v?v($,{prefixCls:o,key:s}):$})),r)}),We=["getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved","renderNotifications"],Ue=function(){return document.body},X=0;function Xe(){for(var e={},t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return n.forEach(function(r){r&&Object.keys(r).forEach(function(m){var u=r[m];u!==void 0&&(e[m]=u)})}),e}function Qe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.getContainer,n=t===void 0?Ue:t,o=e.motion,r=e.prefixCls,m=e.maxCount,u=e.className,d=e.style,a=e.onAllRemoved,c=e.renderNotifications,v=xe(e,We),g=i.useState(),p=k(g,2),N=p[0],h=p[1],E=i.useRef(),S=i.createElement(Ve,{container:N,ref:E,prefixCls:r,motion:o,maxCount:m,className:u,style:d,onAllRemoved:a,renderNotifications:c}),w=i.useState([]),b=k(w,2),O=b[0],x=b[1],I=i.useMemo(function(){return{open:function(s){var f=Xe(v,s);(f.key===null||f.key===void 0)&&(f.key="rc-notification-".concat(X),X+=1),x(function($){return[].concat(T($),[{type:"open",config:f}])})},close:function(s){x(function(f){return[].concat(T(f),[{type:"close",key:s}])})},destroy:function(){x(function(s){return[].concat(T(s),[{type:"destroy"}])})}}},[]);return i.useEffect(function(){h(n())}),i.useEffect(function(){E.current&&O.length&&(O.forEach(function(l){switch(l.type){case"open":E.current.open(l.config);break;case"close":E.current.close(l.key);break;case"destroy":E.current.destroy();break}}),x(function(l){return l.filter(function(s){return!O.includes(s)})}))},[O]),[I,S]}const qe=e=>{const{componentCls:t,width:n,notificationMarginEdge:o,animationMaxHeight:r}=e,m=new M("antNotificationTopFadeIn",{"0%":{marginTop:"-100%",opacity:0},"100%":{marginTop:0,opacity:1}}),u=new M("antNotificationBottomFadeIn",{"0%":{bottom:-r,opacity:0},"100%":{bottom:0,opacity:1}}),d=new M("antNotificationLeftFadeIn",{"0%":{right:{_skip_check_:!0,value:n},opacity:0},"100%":{right:{_skip_check_:!0,value:0},opacity:1}});return{[`&${t}-top, &${t}-bottom`]:{marginInline:0},[`&${t}-top`]:{[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationName:m}},[`&${t}-bottom`]:{[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationName:u}},[`&${t}-topLeft, &${t}-bottomLeft`]:{marginInlineEnd:0,marginInlineStart:o,[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationName:d}}}},Ye=qe,Je=e=>{const{iconCls:t,componentCls:n,boxShadow:o,fontSizeLG:r,notificationMarginBottom:m,borderRadiusLG:u,colorSuccess:d,colorInfo:a,colorWarning:c,colorError:v,colorTextHeading:g,notificationBg:p,notificationPadding:N,notificationMarginEdge:h,motionDurationMid:E,motionEaseInOut:S,fontSize:w,lineHeight:b,width:O,notificationIconSize:x,colorText:I}=e,l=`${n}-notice`,s=new M("antNotificationFadeIn",{"0%":{left:{_skip_check_:!0,value:O},opacity:0},"100%":{left:{_skip_check_:!0,value:0},opacity:1}}),f=new M("antNotificationFadeOut",{"0%":{maxHeight:e.animationMaxHeight,marginBottom:m,opacity:1},"100%":{maxHeight:0,marginBottom:0,paddingTop:0,paddingBottom:0,opacity:0}}),$={position:"relative",width:O,maxWidth:`calc(100vw - ${h*2}px)`,marginBottom:m,marginInlineStart:"auto",padding:N,overflow:"hidden",lineHeight:b,wordWrap:"break-word",background:p,borderRadius:u,boxShadow:o,[`${n}-close-icon`]:{fontSize:w,cursor:"pointer"},[`${l}-message`]:{marginBottom:e.marginXS,color:g,fontSize:r,lineHeight:e.lineHeightLG},[`${l}-description`]:{fontSize:w,color:I},[`&${l}-closable ${l}-message`]:{paddingInlineEnd:e.paddingLG},[`${l}-with-icon ${l}-message`]:{marginBottom:e.marginXS,marginInlineStart:e.marginSM+x,fontSize:r},[`${l}-with-icon ${l}-description`]:{marginInlineStart:e.marginSM+x,fontSize:w},[`${l}-icon`]:{position:"absolute",fontSize:x,lineHeight:0,[`&-success${t}`]:{color:d},[`&-info${t}`]:{color:a},[`&-warning${t}`]:{color:c},[`&-error${t}`]:{color:v}},[`${l}-close`]:{position:"absolute",top:e.notificationPaddingVertical,insetInlineEnd:e.notificationPaddingHorizontal,color:e.colorIcon,outline:"none",width:e.notificationCloseButtonSize,height:e.notificationCloseButtonSize,borderRadius:e.borderRadiusSM,transition:`background-color ${e.motionDurationMid}, color ${e.motionDurationMid}`,display:"flex",alignItems:"center",justifyContent:"center","&:hover":{color:e.colorIconHover,backgroundColor:e.wireframe?"transparent":e.colorFillContent}},[`${l}-btn`]:{float:"right",marginTop:e.marginSM}};return[{[n]:Object.assign(Object.assign(Object.assign(Object.assign({},Ee(e)),{position:"fixed",zIndex:e.zIndexPopup,marginInlineEnd:h,[`${n}-hook-holder`]:{position:"relative"},[`&${n}-top, &${n}-bottom`]:{[l]:{marginInline:"auto auto"}},[`&${n}-topLeft, &${n}-bottomLeft`]:{[l]:{marginInlineEnd:"auto",marginInlineStart:0}},[`${n}-fade-enter, ${n}-fade-appear`]:{animationDuration:e.motionDurationMid,animationTimingFunction:S,animationFillMode:"both",opacity:0,animationPlayState:"paused"},[`${n}-fade-leave`]:{animationTimingFunction:S,animationFillMode:"both",animationDuration:E,animationPlayState:"paused"},[`${n}-fade-enter${n}-fade-enter-active, ${n}-fade-appear${n}-fade-appear-active`]:{animationName:s,animationPlayState:"running"},[`${n}-fade-leave${n}-fade-leave-active`]:{animationName:f,animationPlayState:"running"}}),Ye(e)),{"&-rtl":{direction:"rtl",[`${l}-btn`]:{float:"left"}}})},{[n]:{[l]:Object.assign({},$)}},{[`${l}-pure-panel`]:Object.assign(Object.assign({},$),{margin:0})}]},ne=$e("Notification",e=>{const t=e.paddingMD,n=e.paddingLG,o=Ne(e,{notificationBg:e.colorBgElevated,notificationPaddingVertical:t,notificationPaddingHorizontal:n,notificationIconSize:e.fontSizeLG*e.lineHeightLG,notificationCloseButtonSize:e.controlHeightLG*.55,notificationMarginBottom:e.margin,notificationPadding:`${e.paddingMD}px ${e.paddingContentHorizontalLG}px`,notificationMarginEdge:e.marginLG,animationMaxHeight:150});return[Je(o)]},e=>({zIndexPopup:e.zIndexPopupBase+50,width:384}));var Ze=globalThis&&globalThis.__rest||function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]]);return n};function V(e,t){return t===null||t===!1?null:t||i.createElement("span",{className:`${e}-close-x`},i.createElement(Ce,{className:`${e}-close-icon`}))}const et={success:Pe,info:Be,error:Me,warning:Te},oe=e=>{const{prefixCls:t,icon:n,type:o,message:r,description:m,btn:u,role:d="alert"}=e;let a=null;return n?a=i.createElement("span",{className:`${t}-icon`},n):o&&(a=i.createElement(et[o]||null,{className:R(`${t}-icon`,`${t}-icon-${o}`)})),i.createElement("div",{className:R({[`${t}-with-icon`]:a}),role:d},a,i.createElement("div",{className:`${t}-message`},r),i.createElement("div",{className:`${t}-description`},m),u&&i.createElement("div",{className:`${t}-btn`},u))},tt=e=>{const{prefixCls:t,className:n,icon:o,type:r,message:m,description:u,btn:d,closable:a=!0,closeIcon:c}=e,v=Ze(e,["prefixCls","className","icon","type","message","description","btn","closable","closeIcon"]),{getPrefixCls:g}=i.useContext(J),p=t||g("notification"),N=`${p}-notice`,[,h]=ne(p);return i.createElement(ee,Object.assign({},v,{prefixCls:p,className:R(n,h,`${N}-pure-panel`),eventKey:"pure",duration:null,closable:a,closeIcon:V(p,c),content:i.createElement(oe,{prefixCls:N,icon:o,type:r,message:m,description:u,btn:d})}))},nt=tt;function ot(e,t,n){let o;switch(e){case"top":o={left:"50%",transform:"translateX(-50%)",right:"auto",top:t,bottom:"auto"};break;case"topLeft":o={left:0,top:t,bottom:"auto"};break;case"topRight":o={right:0,top:t,bottom:"auto"};break;case"bottom":o={left:"50%",transform:"translateX(-50%)",right:"auto",top:"auto",bottom:n};break;case"bottomLeft":o={left:0,top:"auto",bottom:n};break;default:o={right:0,top:"auto",bottom:n};break}return o}function it(e){return{motionName:`${e}-fade`}}var at=globalThis&&globalThis.__rest||function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]]);return n};const Q=24,rt=4.5,ct="topRight",st=e=>{let{children:t,prefixCls:n}=e;const[,o]=ne(n);return i.createElement(Ge,{classNames:{list:o,notice:o}},t)},lt=(e,t)=>{let{prefixCls:n,key:o}=t;return i.createElement(st,{prefixCls:n,key:o},e)},dt=i.forwardRef((e,t)=>{const{top:n,bottom:o,prefixCls:r,getContainer:m,maxCount:u,rtl:d,onAllRemoved:a}=e,{getPrefixCls:c,getPopupContainer:v,notification:g}=i.useContext(J),p=r||c("notification"),N=b=>ot(b,n??Q,o??Q),h=()=>R({[`${p}-rtl`]:d}),E=()=>it(p),[S,w]=Qe({prefixCls:p,style:N,className:h,motion:E,closable:!0,closeIcon:V(p),duration:rt,getContainer:()=>(m==null?void 0:m())||(v==null?void 0:v())||document.body,maxCount:u,onAllRemoved:a,renderNotifications:lt});return i.useImperativeHandle(t,()=>Object.assign(Object.assign({},S),{prefixCls:p,notification:g})),w});function ie(e){const t=i.useRef(null);return[i.useMemo(()=>{const o=d=>{var a;if(!t.current)return;const{open:c,prefixCls:v,notification:g}=t.current,p=`${v}-notice`,{message:N,description:h,icon:E,type:S,btn:w,className:b,style:O,role:x="alert",closeIcon:I}=d,l=at(d,["message","description","icon","type","btn","className","style","role","closeIcon"]),s=V(p,I);return c(Object.assign(Object.assign({placement:(a=e==null?void 0:e.placement)!==null&&a!==void 0?a:ct},l),{content:i.createElement(oe,{prefixCls:p,icon:E,type:S,message:N,description:h,btn:w,role:x}),className:R(S&&`${p}-${S}`,b,g==null?void 0:g.className),style:Object.assign(Object.assign({},g==null?void 0:g.style),O),closeIcon:s,closable:!!s}))},m={open:o,destroy:d=>{var a,c;d!==void 0?(a=t.current)===null||a===void 0||a.close(d):(c=t.current)===null||c===void 0||c.destroy()}};return["success","info","warning","error"].forEach(d=>{m[d]=a=>o(Object.assign(Object.assign({},a),{type:d}))}),m},[]),i.createElement(dt,Object.assign({key:"notification-holder"},e,{ref:t}))]}function ft(e){return ie(e)}let j=null,z=e=>e(),D=[],B={};function q(){const{prefixCls:e,getContainer:t,rtl:n,maxCount:o,top:r,bottom:m}=B,u=e??Z().getPrefixCls("notification"),d=(t==null?void 0:t())||document.body;return{prefixCls:u,getContainer:()=>d,rtl:n,maxCount:o,top:r,bottom:m}}const ut=i.forwardRef((e,t)=>{const[n,o]=i.useState(q),[r,m]=ie(n),u=Z(),d=u.getRootPrefixCls(),a=u.getIconPrefixCls(),c=u.getTheme(),v=()=>{o(q)};return i.useEffect(v,[]),i.useImperativeHandle(t,()=>{const g=Object.assign({},r);return Object.keys(g).forEach(p=>{g[p]=function(){return v(),r[p].apply(r,arguments)}}),{instance:g,sync:v}}),i.createElement(Se,{prefixCls:d,iconPrefixCls:a,theme:c},m)});function W(){if(!j){const e=document.createDocumentFragment(),t={fragment:e};j=t,z(()=>{ye(i.createElement(ut,{ref:n=>{const{instance:o,sync:r}=n||{};Promise.resolve().then(()=>{!t.instance&&o&&(t.instance=o,t.sync=r,W())})}}),e)});return}j.instance&&(D.forEach(e=>{switch(e.type){case"open":{z(()=>{j.instance.open(Object.assign(Object.assign({},B),e.config))});break}case"destroy":z(()=>{j==null||j.instance.destroy(e.key)});break}}),D=[])}function mt(e){B=Object.assign(Object.assign({},B),e),z(()=>{var t;(t=j==null?void 0:j.sync)===null||t===void 0||t.call(j)})}function ae(e){D.push({type:"open",config:e}),W()}function gt(e){D.push({type:"destroy",key:e}),W()}const vt=["success","info","warning","error"],pt={open:ae,destroy:gt,config:mt,useNotification:ft,_InternalPanelDoNotUseOrYouWillBeFired:nt},re=pt;vt.forEach(e=>{re[e]=t=>ae(Object.assign(Object.assign({},t),{type:e}))});const Ct=re;class ht{constructor(){U(this,"orders",[]);ge(this)}deleteOrder(t){this.orders.splice(t,1)}changeOrderStatus(t,n){this.orders[t].status=n}addOrders(...t){this.orders.push(...t)}}const Y=L.createContext({name:"Default"});function yt(){var[e]=i.useState(()=>new ht),[t]=ue(ve),[n,o]=Ct.useNotification();i.useEffect(()=>{var a=!1;return A.get(`/api/restaurant/${t.id}/order`).then(c=>{a||e.addOrders(...c.data)}),()=>{a=!0}},[]),i.useEffect(()=>{var a=me(`ws://${location.host}`,{path:"/restaurant",transports:["websocket","polling"],query:{restaurant:"restaurant:1"}});return a.on("new order",c=>{console.log("有新的订单",c),setTimeout(()=>{n.info({duration:null,message:"有新的订单",description:C.jsx(Y.Consumer,{children:({name:v})=>`Hello, ${v}!`})})}),e.orders.unshift(c)}),()=>{a.close()}},[]);async function r(a){var c=e.orders[a];await A.delete(`/api/restaurant/${t.id}/order/${c.id}`),e.deleteOrder(a)}async function m(a){var c=e.orders[a];await A.put(`/api/restaurant/${t.id}/order/${c.id}/status`,{status:"confirmed"}),e.changeOrderStatus(a,"confirmed")}async function u(a){var c=e.orders[a];await A.put(`/api/restaurant/${t.id}/order/${c.id}/status`,{status:"completed"}),e.changeOrderStatus(a,"completed")}const d=i.useMemo(()=>({name:"Ant Design"}),[]);return C.jsxs(Y.Provider,{value:d,children:[o,C.jsxs("div",{className:"grow p-2",children:[C.jsx("h1",{className:"text-lg font-bold",children:"订单管理"}),C.jsx("ul",{className:"space-y-2 mt-2",children:e.orders.map((a,c)=>C.jsxs("li",{className:"border flex rounded",children:[C.jsxs("div",{className:"p-2",children:[C.jsxs("div",{children:["id: ",a.id]}),C.jsxs("div",{children:["座号：",a.deskName]}),C.jsxs("div",{children:["人数：",a.customCount]}),C.jsxs("div",{children:["状态：",a.status=="pending"?"待确认":a.status=="confirmed"?"已确认":"已完成"]}),C.jsxs("div",{children:["时间: ",a.timestamp]}),C.jsxs("div",{className:"flex gap-2",children:[C.jsx("button",{onClick:()=>Oe(a),children:"打印"}),a.status==="pending"&&C.jsx("button",{onClick:()=>m(c),children:"确认"}),a.status==="confirmed"&&C.jsx("button",{onClick:()=>u(c),children:"完成"}),C.jsx("button",{onClick:()=>r(c),children:"删除"})]})]}),C.jsxs("div",{className:"border-l p-2",children:[C.jsxs("div",{className:"flex",children:[C.jsx("div",{className:"w-20",children:"名称"}),C.jsx("div",{className:"w-10",children:"数量"}),C.jsx("div",{children:"总价格"})]},c),a.details.map((v,g)=>C.jsxs("div",{className:"flex",children:[C.jsx("div",{className:"w-20",children:v.food.name}),C.jsx("div",{className:"w-10",children:v.amount}),C.jsx("div",{children:v.food.price*v.amount})]},g))]})]},a.id))})]})]})}const St=he(yt);export{St as default};
