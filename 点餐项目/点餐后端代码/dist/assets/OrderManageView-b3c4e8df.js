var se=Object.defineProperty;var le=(e,t,n)=>t in e?se(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var U=(e,t,n)=>(le(e,typeof t!="symbol"?t+"":t,n),n);import{r as i,c as R,_ as de,R as L,a as fe,b as T,l as ue,j as p,m as me}from"./index-885304aa.js";import{K as ge,C as ve,o as pe}from"./KeyCode-ce5f8a72.js";import{r as Ce}from"./render-590c14e9.js";import{A as G,_,a as k,C as he,b as H,c as A,d as ye,K as M,g as be,m as xe,r as Ne,e as J,f as $e,h as Z}from"./AntdIcon-fa0be34e.js";function Ee(e){var t=document.createElement("iframe");t.style.display="none",document.body.append(t),t.contentDocument.write(`
    <!DOCTYPE html>
    <html lang="en">
    <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Document</title>
    </head>
    <body>
      ${e.details.map(n=>`${n.food.name} - ${n.amount} - ${n.food.price}`)}
    </body>
    </html>
  `),t.contentWindow.print()}var Se={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};const Oe=Se;var we=function(t,n){return i.createElement(G,_({},t,{ref:n,icon:Oe}))};const Ie=i.forwardRef(we);var je={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"};const Pe=je;var Re=function(t,n){return i.createElement(G,_({},t,{ref:n,icon:Pe}))};const _e=i.forwardRef(Re);var Fe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"};const Me=Fe;var Le=function(t,n){return i.createElement(G,_({},t,{ref:n,icon:Me}))};const ke=i.forwardRef(Le);var Te={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"};const Ae=Te;var ze=function(t,n){return i.createElement(G,_({},t,{ref:n,icon:Ae}))};const He=i.forwardRef(ze);var ee=i.forwardRef(function(e,t){var n=e.prefixCls,o=e.style,r=e.className,u=e.duration,f=u===void 0?4.5:u,a=e.eventKey,c=e.content,m=e.closable,C=e.closeIcon,g=C===void 0?"x":C,v=e.props,$=e.onClick,h=e.onNoticeClose,E=e.times,S=i.useState(!1),w=k(S,2),b=w[0],O=w[1],x=function(){h(a)},I=function(d){(d.key==="Enter"||d.code==="Enter"||d.keyCode===ge.ENTER)&&x()};i.useEffect(function(){if(!b&&f>0){var s=setTimeout(function(){x()},f*1e3);return function(){clearTimeout(s)}}},[f,b,E]);var l="".concat(n,"-notice");return i.createElement("div",_({},v,{ref:t,className:R(l,r,de({},"".concat(l,"-closable"),m)),style:o,onMouseEnter:function(){O(!0)},onMouseLeave:function(){O(!1)},onClick:$}),i.createElement("div",{className:"".concat(l,"-content")},c),m&&i.createElement("a",{tabIndex:0,className:"".concat(l,"-close"),onKeyDown:I,onClick:function(d){d.preventDefault(),d.stopPropagation(),x()}},g))}),te=L.createContext({}),De=function(t){var n=t.children,o=t.classNames;return L.createElement(te.Provider,{value:{classNames:o}},n)},Be=function(t){var n=t.configList,o=t.placement,r=t.prefixCls,u=t.className,f=t.style,a=t.motion,c=t.onAllNoticeRemoved,m=t.onNoticeClose,C=i.useContext(te),g=C.classNames,v=n.map(function(h){return{config:h,key:h.key}}),$=typeof a=="function"?a(o):a;return L.createElement(he,_({key:o,className:R(r,"".concat(r,"-").concat(o),g==null?void 0:g.list,u),style:f,keys:v,motionAppear:!0},$,{onAllRemoved:function(){c(o)}}),function(h,E){var S=h.config,w=h.className,b=h.style,O=S,x=O.key,I=O.times,l=S,s=l.className,d=l.style;return L.createElement(ee,_({},S,{ref:E,prefixCls:r,className:R(w,s,g==null?void 0:g.notice),style:H(H({},b),d),times:I,key:x,eventKey:x,onNoticeClose:m}))})},Ge=i.forwardRef(function(e,t){var n=e.prefixCls,o=n===void 0?"rc-notification":n,r=e.container,u=e.motion,f=e.maxCount,a=e.className,c=e.style,m=e.onAllRemoved,C=e.renderNotifications,g=i.useState([]),v=k(g,2),$=v[0],h=v[1],E=function(d){var N,y=$.find(function(P){return P.key===d});y==null||(N=y.onClose)===null||N===void 0||N.call(y),h(function(P){return P.filter(function(F){return F.key!==d})})};i.useImperativeHandle(t,function(){return{open:function(d){h(function(N){var y=A(N),P=y.findIndex(function(ce){return ce.key===d.key}),F=H({},d);if(P>=0){var K;F.times=(((K=N[P])===null||K===void 0?void 0:K.times)||0)+1,y[P]=F}else F.times=0,y.push(F);return f>0&&y.length>f&&(y=y.slice(-f)),y})},close:function(d){E(d)},destroy:function(){h([])}}});var S=i.useState({}),w=k(S,2),b=w[0],O=w[1];i.useEffect(function(){var s={};$.forEach(function(d){var N=d.placement,y=N===void 0?"topRight":N;y&&(s[y]=s[y]||[],s[y].push(d))}),Object.keys(b).forEach(function(d){s[d]=s[d]||[]}),O(s)},[$]);var x=function(d){O(function(N){var y=H({},N),P=y[d]||[];return P.length||delete y[d],y})},I=i.useRef(!1);if(i.useEffect(function(){Object.keys(b).length>0?I.current=!0:I.current&&(m==null||m(),I.current=!1)},[b]),!r)return null;var l=Object.keys(b);return fe.createPortal(i.createElement(i.Fragment,null,l.map(function(s){var d=b[s],N=i.createElement(Be,{key:s,configList:d,placement:s,prefixCls:o,className:a==null?void 0:a(s),style:c==null?void 0:c(s),motion:u,onNoticeClose:E,onAllNoticeRemoved:x});return C?C(N,{prefixCls:o,key:s}):N})),r)}),Ke=["getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved","renderNotifications"],Ve=function(){return document.body},X=0;function We(){for(var e={},t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return n.forEach(function(r){r&&Object.keys(r).forEach(function(u){var f=r[u];f!==void 0&&(e[u]=f)})}),e}function Ue(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.getContainer,n=t===void 0?Ve:t,o=e.motion,r=e.prefixCls,u=e.maxCount,f=e.className,a=e.style,c=e.onAllRemoved,m=e.renderNotifications,C=ye(e,Ke),g=i.useState(),v=k(g,2),$=v[0],h=v[1],E=i.useRef(),S=i.createElement(Ge,{container:$,ref:E,prefixCls:r,motion:o,maxCount:u,className:f,style:a,onAllRemoved:c,renderNotifications:m}),w=i.useState([]),b=k(w,2),O=b[0],x=b[1],I=i.useMemo(function(){return{open:function(s){var d=We(C,s);(d.key===null||d.key===void 0)&&(d.key="rc-notification-".concat(X),X+=1),x(function(N){return[].concat(A(N),[{type:"open",config:d}])})},close:function(s){x(function(d){return[].concat(A(d),[{type:"close",key:s}])})},destroy:function(){x(function(s){return[].concat(A(s),[{type:"destroy"}])})}}},[]);return i.useEffect(function(){h(n())}),i.useEffect(function(){E.current&&O.length&&(O.forEach(function(l){switch(l.type){case"open":E.current.open(l.config);break;case"close":E.current.close(l.key);break;case"destroy":E.current.destroy();break}}),x(function(l){return l.filter(function(s){return!O.includes(s)})}))},[O]),[I,S]}const Xe=e=>{const{componentCls:t,width:n,notificationMarginEdge:o,animationMaxHeight:r}=e,u=new M("antNotificationTopFadeIn",{"0%":{marginTop:"-100%",opacity:0},"100%":{marginTop:0,opacity:1}}),f=new M("antNotificationBottomFadeIn",{"0%":{bottom:-r,opacity:0},"100%":{bottom:0,opacity:1}}),a=new M("antNotificationLeftFadeIn",{"0%":{right:{_skip_check_:!0,value:n},opacity:0},"100%":{right:{_skip_check_:!0,value:0},opacity:1}});return{[`&${t}-top, &${t}-bottom`]:{marginInline:0},[`&${t}-top`]:{[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationName:u}},[`&${t}-bottom`]:{[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationName:f}},[`&${t}-topLeft, &${t}-bottomLeft`]:{marginInlineEnd:0,marginInlineStart:o,[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationName:a}}}},Qe=Xe,qe=e=>{const{iconCls:t,componentCls:n,boxShadow:o,fontSizeLG:r,notificationMarginBottom:u,borderRadiusLG:f,colorSuccess:a,colorInfo:c,colorWarning:m,colorError:C,colorTextHeading:g,notificationBg:v,notificationPadding:$,notificationMarginEdge:h,motionDurationMid:E,motionEaseInOut:S,fontSize:w,lineHeight:b,width:O,notificationIconSize:x,colorText:I}=e,l=`${n}-notice`,s=new M("antNotificationFadeIn",{"0%":{left:{_skip_check_:!0,value:O},opacity:0},"100%":{left:{_skip_check_:!0,value:0},opacity:1}}),d=new M("antNotificationFadeOut",{"0%":{maxHeight:e.animationMaxHeight,marginBottom:u,opacity:1},"100%":{maxHeight:0,marginBottom:0,paddingTop:0,paddingBottom:0,opacity:0}}),N={position:"relative",width:O,maxWidth:`calc(100vw - ${h*2}px)`,marginBottom:u,marginInlineStart:"auto",padding:$,overflow:"hidden",lineHeight:b,wordWrap:"break-word",background:v,borderRadius:f,boxShadow:o,[`${n}-close-icon`]:{fontSize:w,cursor:"pointer"},[`${l}-message`]:{marginBottom:e.marginXS,color:g,fontSize:r,lineHeight:e.lineHeightLG},[`${l}-description`]:{fontSize:w,color:I},[`&${l}-closable ${l}-message`]:{paddingInlineEnd:e.paddingLG},[`${l}-with-icon ${l}-message`]:{marginBottom:e.marginXS,marginInlineStart:e.marginSM+x,fontSize:r},[`${l}-with-icon ${l}-description`]:{marginInlineStart:e.marginSM+x,fontSize:w},[`${l}-icon`]:{position:"absolute",fontSize:x,lineHeight:0,[`&-success${t}`]:{color:a},[`&-info${t}`]:{color:c},[`&-warning${t}`]:{color:m},[`&-error${t}`]:{color:C}},[`${l}-close`]:{position:"absolute",top:e.notificationPaddingVertical,insetInlineEnd:e.notificationPaddingHorizontal,color:e.colorIcon,outline:"none",width:e.notificationCloseButtonSize,height:e.notificationCloseButtonSize,borderRadius:e.borderRadiusSM,transition:`background-color ${e.motionDurationMid}, color ${e.motionDurationMid}`,display:"flex",alignItems:"center",justifyContent:"center","&:hover":{color:e.colorIconHover,backgroundColor:e.wireframe?"transparent":e.colorFillContent}},[`${l}-btn`]:{float:"right",marginTop:e.marginSM}};return[{[n]:Object.assign(Object.assign(Object.assign(Object.assign({},Ne(e)),{position:"fixed",zIndex:e.zIndexPopup,marginInlineEnd:h,[`${n}-hook-holder`]:{position:"relative"},[`&${n}-top, &${n}-bottom`]:{[l]:{marginInline:"auto auto"}},[`&${n}-topLeft, &${n}-bottomLeft`]:{[l]:{marginInlineEnd:"auto",marginInlineStart:0}},[`${n}-fade-enter, ${n}-fade-appear`]:{animationDuration:e.motionDurationMid,animationTimingFunction:S,animationFillMode:"both",opacity:0,animationPlayState:"paused"},[`${n}-fade-leave`]:{animationTimingFunction:S,animationFillMode:"both",animationDuration:E,animationPlayState:"paused"},[`${n}-fade-enter${n}-fade-enter-active, ${n}-fade-appear${n}-fade-appear-active`]:{animationName:s,animationPlayState:"running"},[`${n}-fade-leave${n}-fade-leave-active`]:{animationName:d,animationPlayState:"running"}}),Qe(e)),{"&-rtl":{direction:"rtl",[`${l}-btn`]:{float:"left"}}})},{[n]:{[l]:Object.assign({},N)}},{[`${l}-pure-panel`]:Object.assign(Object.assign({},N),{margin:0})}]},ne=be("Notification",e=>{const t=e.paddingMD,n=e.paddingLG,o=xe(e,{notificationBg:e.colorBgElevated,notificationPaddingVertical:t,notificationPaddingHorizontal:n,notificationIconSize:e.fontSizeLG*e.lineHeightLG,notificationCloseButtonSize:e.controlHeightLG*.55,notificationMarginBottom:e.margin,notificationPadding:`${e.paddingMD}px ${e.paddingContentHorizontalLG}px`,notificationMarginEdge:e.marginLG,animationMaxHeight:150});return[qe(o)]},e=>({zIndexPopup:e.zIndexPopupBase+50,width:384}));var Ye=globalThis&&globalThis.__rest||function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]]);return n};function V(e,t){return t===null||t===!1?null:t||i.createElement("span",{className:`${e}-close-x`},i.createElement(ve,{className:`${e}-close-icon`}))}const Je={success:Ie,info:He,error:_e,warning:ke},oe=e=>{const{prefixCls:t,icon:n,type:o,message:r,description:u,btn:f,role:a="alert"}=e;let c=null;return n?c=i.createElement("span",{className:`${t}-icon`},n):o&&(c=i.createElement(Je[o]||null,{className:R(`${t}-icon`,`${t}-icon-${o}`)})),i.createElement("div",{className:R({[`${t}-with-icon`]:c}),role:a},c,i.createElement("div",{className:`${t}-message`},r),i.createElement("div",{className:`${t}-description`},u),f&&i.createElement("div",{className:`${t}-btn`},f))},Ze=e=>{const{prefixCls:t,className:n,icon:o,type:r,message:u,description:f,btn:a,closable:c=!0,closeIcon:m}=e,C=Ye(e,["prefixCls","className","icon","type","message","description","btn","closable","closeIcon"]),{getPrefixCls:g}=i.useContext(J),v=t||g("notification"),$=`${v}-notice`,[,h]=ne(v);return i.createElement(ee,Object.assign({},C,{prefixCls:v,className:R(n,h,`${$}-pure-panel`),eventKey:"pure",duration:null,closable:c,closeIcon:V(v,m),content:i.createElement(oe,{prefixCls:$,icon:o,type:r,message:u,description:f,btn:a})}))},et=Ze;function tt(e,t,n){let o;switch(e){case"top":o={left:"50%",transform:"translateX(-50%)",right:"auto",top:t,bottom:"auto"};break;case"topLeft":o={left:0,top:t,bottom:"auto"};break;case"topRight":o={right:0,top:t,bottom:"auto"};break;case"bottom":o={left:"50%",transform:"translateX(-50%)",right:"auto",top:"auto",bottom:n};break;case"bottomLeft":o={left:0,top:"auto",bottom:n};break;default:o={right:0,top:"auto",bottom:n};break}return o}function nt(e){return{motionName:`${e}-fade`}}var ot=globalThis&&globalThis.__rest||function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]]);return n};const Q=24,it=4.5,at="topRight",rt=e=>{let{children:t,prefixCls:n}=e;const[,o]=ne(n);return i.createElement(De,{classNames:{list:o,notice:o}},t)},ct=(e,t)=>{let{prefixCls:n,key:o}=t;return i.createElement(rt,{prefixCls:n,key:o},e)},st=i.forwardRef((e,t)=>{const{top:n,bottom:o,prefixCls:r,getContainer:u,maxCount:f,rtl:a,onAllRemoved:c}=e,{getPrefixCls:m,getPopupContainer:C,notification:g}=i.useContext(J),v=r||m("notification"),$=b=>tt(b,n??Q,o??Q),h=()=>R({[`${v}-rtl`]:a}),E=()=>nt(v),[S,w]=Ue({prefixCls:v,style:$,className:h,motion:E,closable:!0,closeIcon:V(v),duration:it,getContainer:()=>(u==null?void 0:u())||(C==null?void 0:C())||document.body,maxCount:f,onAllRemoved:c,renderNotifications:ct});return i.useImperativeHandle(t,()=>Object.assign(Object.assign({},S),{prefixCls:v,notification:g})),w});function ie(e){const t=i.useRef(null);return[i.useMemo(()=>{const o=a=>{var c;if(!t.current)return;const{open:m,prefixCls:C,notification:g}=t.current,v=`${C}-notice`,{message:$,description:h,icon:E,type:S,btn:w,className:b,style:O,role:x="alert",closeIcon:I}=a,l=ot(a,["message","description","icon","type","btn","className","style","role","closeIcon"]),s=V(v,I);return m(Object.assign(Object.assign({placement:(c=e==null?void 0:e.placement)!==null&&c!==void 0?c:at},l),{content:i.createElement(oe,{prefixCls:v,icon:E,type:S,message:$,description:h,btn:w,role:x}),className:R(S&&`${v}-${S}`,b,g==null?void 0:g.className),style:Object.assign(Object.assign({},g==null?void 0:g.style),O),closeIcon:s,closable:!!s}))},u={open:o,destroy:a=>{var c,m;a!==void 0?(c=t.current)===null||c===void 0||c.close(a):(m=t.current)===null||m===void 0||m.destroy()}};return["success","info","warning","error"].forEach(a=>{u[a]=c=>o(Object.assign(Object.assign({},c),{type:a}))}),u},[]),i.createElement(st,Object.assign({key:"notification-holder"},e,{ref:t}))]}function lt(e){return ie(e)}let j=null,z=e=>e(),D=[],B={};function q(){const{prefixCls:e,getContainer:t,rtl:n,maxCount:o,top:r,bottom:u}=B,f=e??Z().getPrefixCls("notification"),a=(t==null?void 0:t())||document.body;return{prefixCls:f,getContainer:()=>a,rtl:n,maxCount:o,top:r,bottom:u}}const dt=i.forwardRef((e,t)=>{const[n,o]=i.useState(q),[r,u]=ie(n),f=Z(),a=f.getRootPrefixCls(),c=f.getIconPrefixCls(),m=f.getTheme(),C=()=>{o(q)};return i.useEffect(C,[]),i.useImperativeHandle(t,()=>{const g=Object.assign({},r);return Object.keys(g).forEach(v=>{g[v]=function(){return C(),r[v].apply(r,arguments)}}),{instance:g,sync:C}}),i.createElement($e,{prefixCls:a,iconPrefixCls:c,theme:m},u)});function W(){if(!j){const e=document.createDocumentFragment(),t={fragment:e};j=t,z(()=>{Ce(i.createElement(dt,{ref:n=>{const{instance:o,sync:r}=n||{};Promise.resolve().then(()=>{!t.instance&&o&&(t.instance=o,t.sync=r,W())})}}),e)});return}j.instance&&(D.forEach(e=>{switch(e.type){case"open":{z(()=>{j.instance.open(Object.assign(Object.assign({},B),e.config))});break}case"destroy":z(()=>{j==null||j.instance.destroy(e.key)});break}}),D=[])}function ft(e){B=Object.assign(Object.assign({},B),e),z(()=>{var t;(t=j==null?void 0:j.sync)===null||t===void 0||t.call(j)})}function ae(e){D.push({type:"open",config:e}),W()}function ut(e){D.push({type:"destroy",key:e}),W()}const mt=["success","info","warning","error"],gt={open:ae,destroy:ut,config:ft,useNotification:lt,_InternalPanelDoNotUseOrYouWillBeFired:et},re=gt;mt.forEach(e=>{re[e]=t=>ae(Object.assign(Object.assign({},t),{type:e}))});const vt=re;class pt{constructor(){U(this,"orders",[]);me(this)}deleteOrder(t){this.orders.splice(t,1)}changeOrderStatus(t,n){this.orders[t].status=n}addOrders(...t){this.orders.push(...t)}}const Y=L.createContext({name:"Default"});function Ct(){var[e]=i.useState(()=>new pt),[t,n]=vt.useNotification();console.log(t),i.useRef(null),i.useEffect(()=>{var a=!1;return T.get("/api/restaurant/1/order").then(c=>{a||e.addOrders(...c.data)}),()=>{a=!0}},[]),i.useEffect(()=>{var a=ue(`ws://${location.host}`,{path:"/restaurant",transports:["websocket","polling"],query:{restaurant:"restaurant:1"}});return a.on("new order",c=>{console.log("有新的订单",c),setTimeout(()=>{t.info({duration:null,message:"有新的订单",description:p.jsx(Y.Consumer,{children:({name:m})=>`Hello, ${m}!`})})}),e.orders.unshift(c)}),()=>{a.close()}},[]);async function o(a){var c=e.orders[a];await T.delete(`/api/restaurant/1/order/${c.id}`),e.deleteOrder(a)}async function r(a){var c=e.orders[a];await T.put(`/api/restaurant/1/order/${c.id}/status`,{status:"confirmed"}),e.changeOrderStatus(a,"confirmed")}async function u(a){var c=e.orders[a];await T.put(`/api/restaurant/1/order/${c.id}/status`,{status:"completed"}),e.changeOrderStatus(a,"completed")}const f=i.useMemo(()=>({name:"Ant Design"}),[]);return p.jsxs(Y.Provider,{value:f,children:[n,p.jsxs("div",{className:"grow p-2",children:[p.jsx("h1",{className:"text-lg font-bold",children:"订单管理"}),p.jsx("ul",{className:"space-y-2 mt-2",children:e.orders.map((a,c)=>p.jsxs("li",{className:"border flex rounded",children:[p.jsxs("div",{className:"p-2",children:[p.jsxs("div",{children:["id: ",a.id]}),p.jsxs("div",{children:["座号：",a.deskName]}),p.jsxs("div",{children:["人数：",a.customCount]}),p.jsxs("div",{children:["状态：",a.status=="pending"?"待确认":a.status=="confirmed"?"已确认":"已完成"]}),p.jsxs("div",{children:["时间: ",a.timestamp]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{onClick:()=>Ee(a),children:"打印"}),a.status==="pending"&&p.jsx("button",{onClick:()=>r(c),children:"确认"}),a.status==="confirmed"&&p.jsx("button",{onClick:()=>u(c),children:"完成"}),p.jsx("button",{onClick:()=>o(c),children:"删除"})]})]}),p.jsxs("div",{className:"border-l p-2",children:[p.jsxs("div",{className:"flex",children:[p.jsx("div",{className:"w-20",children:"名称"}),p.jsx("div",{className:"w-10",children:"数量"}),p.jsx("div",{children:"总价格"})]},c),a.details.map((m,C)=>p.jsxs("div",{className:"flex",children:[p.jsx("div",{className:"w-20",children:m.food.name}),p.jsx("div",{className:"w-10",children:m.amount}),p.jsx("div",{children:m.food.price*m.amount})]},C))]})]},a.id))})]})]})}const $t=pe(Ct);export{$t as default};
